<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Better Discord - Modern Chat</title>
  <link rel="stylesheet" href="styles.css">
  <link  href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet" />
</head>
<body>
  <div class="app-container">
    <!-- Sidebar: Servers -->
    <nav class="sidebar">
      <button class="friends-btn" title="Friends" aria-label="Friends">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="8" r="4.5" stroke="currentColor" stroke-width="1.7"/>
          <path d="M4.5 20c0-3.1 3.1-5.5 7.5-5.5s7.5 2.4 7.5 5.5" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
        </svg>
      </button>
      <ul class="server-list">
        <!-- Servers will be dynamically added here -->
      </ul>
      <button class="add-server" title="Create Server">+</button>
    </nav>
    <!-- Channel List -->
    <aside class="channels">
      <div class="channels-server-header" style="display:none;">
        <span class="server-owner-name"></span>
        <button class="server-dropdown-btn" aria-label="Server options">
          <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
            <path d="M5 8l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="server-dropdown-menu" style="display:none;">
        <div class="dropdown-option invite-people-option"><span>Invite People</span>
          <span class="invite-code-tooltip" style="display:none;"></span>
        </div>
        <div class="dropdown-option"><span>Server Settings</span></div>
        <div class="dropdown-option"><span>Create Channel</span></div>
        <div class="dropdown-option"><span>Create Category</span></div>
        <div class="dropdown-option"><span>Create Event</span></div>
        <div class="dropdown-option"><span>App Directory</span></div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-option"><span>Notification Settings</span></div>
        <div class="dropdown-option"><span>Privacy Settings</span></div>
        <div class="dropdown-option"><span>Edit Per-server Profile</span></div>
        <div class="dropdown-option"><span>Hide Muted Channels</span></div>
      </div>
      <div class="channels-header"># Channels</div>
      <ul class="channel-list">
        <!-- Channels will be dynamically added here -->
      </ul>
      <button type="button" class="add-friend-btn" style="display:none;">+ Add Friend</button>
    </aside>
    <!-- Main Chat Area -->
    <main class="chat">
      <header class="chat-header">
        <h2 class="channel-title"><!-- Channel name --></h2>
        <div class="chat-actions">
          <button class="search-btn icon-btn" title="Search" aria-label="Search">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="7"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          </button>
          <div class="search-bar-container" style="display:none;">
            <input type="text" class="search-bar-input" placeholder="Search messages..." />
            <button class="search-bar-arrow search-bar-arrow-up" title="Previous match" aria-label="Previous match">
              <svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 12 10 8 14 12"/></svg>
            </button>
            <button class="search-bar-arrow search-bar-arrow-down" title="Next match" aria-label="Next match">
              <svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 8 10 12 14 8"/></svg>
            </button>
            <button class="search-bar-close icon-btn" title="Close search" aria-label="Close search">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="6" x2="14" y2="14"/><line x1="14" y1="6" x2="6" y2="14"/></svg>
            </button>
          </div>
          <button title="Settings">⚙️</button>
        </div>
      </header>
      <section class="messages">
        <!-- Messages will be dynamically added here -->
      </section>
      <div id="welcome-message" class="welcome-message">
        <h2>Welcome! Select a server or channel to get started.</h2>
      </div>
      <form class="chat-input">
        <button type="button" class="chat-attach-btn icon-btn" title="Attach file" aria-label="Attach file">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
        <input type="file" class="chat-file-input" style="display:none;" accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar,.7z,.csv" />
        <input type="text" placeholder="Type a message..." />
        <button type="submit">Send</button>
      </form>
    </main>
    <!-- User Profile -->
    <aside class="user-profile">
      <div class="profile-banner-container">
        <img src="" alt="Banner" class="profile-banner" style="display:none;">
        <video src="" class="profile-banner-video" style="display:none; width:100%; height:100%; object-fit:cover;" autoplay loop muted playsinline></video>
        <input type="hidden" class="banner-crop-data" />
      </div>
      <div class="profile-avatar-wrapper">
        <div class="profile-avatar-circle">
          <img src="" class="profile-avatar" alt="Avatar" style="display:none;">
          <button class="change-avatar-btn" title="Change Avatar">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 2.5L17.5 6.5M3 13.5L13.5 3L17 6.5L6.5 17H3V13.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
      <div class="profile-main-info">
        <div class="profile-name-row">
          <span class="profile-name-editable">
            <span class="profile-name">Username</span>
            <input type="text" class="profile-name-input" style="display:none;" />
          </span>
          <button class="edit-name-btn" title="Edit Name">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 2.5L17.5 6.5M3 13.5L13.5 3L17 6.5L6.5 17H3V13.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="save-name-btn" style="display:none;">Save</button>
          <button class="cancel-name-btn" style="display:none;">Cancel</button>
        </div>
        <div class="profile-id-row">
          <span class="profile-id">#0000</span>
          <button class="copy-id-btn" title="Copy ID">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="5" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/><rect x="2.5" y="2.5" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/></svg>
          </button>
        </div>
        <div class="profile-bio-row">
          <span class="profile-bio-editable">
            <span class="profile-bio">This is your bio. Tell us about yourself!</span>
            <textarea class="profile-bio-input" style="display:none;"></textarea>
          </span>
          <button class="edit-bio-btn icon-btn" title="Edit Bio">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 2.5L17.5 6.5M3 13.5L13.5 3L17 6.5L6.5 17H3V13.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
      <div class="profile-actions">
        <button class="view-full-profile-btn">View Full Profile</button>
        <button class="change-banner-btn" title="Change Banner">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="7" width="14" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/><circle cx="10" cy="12" r="2.5" stroke="currentColor" stroke-width="1.5"/><rect x="7" y="3" width="6" height="2" rx="1" fill="currentColor"/></svg>
        </button>
        <button class="logout-account-btn">Logout</button>
        <button class="join-server-btn">Join Server</button>
        <button class="more-profile-settings-btn">More Setting</button>
        <button class="delete-account-btn">Delete Account</button>
        <div class="delete-caution">⚠️ Deleting your account is permanent and cannot be undone.</div>
      </div>
      <!-- New stunning join server modal -->
      <div id="profile-join-server-modal" class="profile-join-modal" style="display:none;">
        <div class="profile-join-modal-content">
          <button class="profile-join-modal-close" title="Close">&times;</button>
          <h2>Join a Server</h2>
          <input type="text" class="profile-join-input" placeholder="Enter invite code..." />
          <button class="profile-join-confirm-btn">Join</button>
          <div class="profile-join-feedback"></div>
        </div>
      </div>
    </aside>
  </div>
  <div id="create-server-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <button class="modal-close" title="Close">&times;</button>
      <h2>Customize Your Server</h2>
      <p>Give your new server a personality with a name and an icon. You can always change it later.</p>
      <div class="icon-upload-area">
        <label for="server-icon-upload" class="icon-upload-label">
          <span class="icon-upload-circle">
            <span class="icon-upload-plus">+</span>
            <span class="icon-upload-camera">&#128247;</span>
          </span>
          <span class="icon-upload-text">UPLOAD</span>
          <input type="file" id="server-icon-upload" accept="image/*" style="display:none;" />
        </label>
      </div>
      <label for="server-name" class="server-name-label">SERVER NAME</label>
      <input type="text" id="server-name" class="server-name-input" placeholder="" />
      <div class="modal-actions">
        <button class="modal-back">Back</button>
        <button class="modal-create" disabled>Create</button>
      </div>
    </div>
  </div>
  <div id="join-server-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <button class="modal-close join-server-modal-close" title="Close">&times;</button>
      <h2>Join a Server</h2>
      <input type="text" class="join-server-input" placeholder="Enter invite code..." />
      <button class="join-server-confirm-btn">Join</button>
      <div class="join-server-error" style="color:#ff4d4f;margin-top:8px;min-height:20px;"></div>
    </div>
  </div>
  <div class="auth-overlay" id="auth-overlay">
    <div class="auth-left">
      <div class="cube-3d-container">
        <div class="scene">
          <div class="pivot">
            <div class="cube">
              <div class="face front"></div>
              <div class="face back"></div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="auth-logo animated-logo">
        <span class="logo-m">M</span>
        <span class="logo-s">S</span>
        <span class="logo-i">I</span>
      </div>
      <div class="auth-heading" id="auth-heading">
        <span class="heading-stack" style="position:relative;display:inline-block;">
          <span id="auth-heading-top">YOUR PLACE TO</span>
          <span id="auth-heading-bottom">CONNECT & GROW</span>
        </span>
      </div>
      <div class="auth-desc" id="auth-desc">
        At MSI, we believe in fostering vibrant communities. Whether you're collaborating on a project, sharing ideas with a group, or just chatting with friends, MSI provides a seamless platform for all your interactions.
      </div>
    </div>
    <div class="auth-right">
      <div class="auth-form-container">
        <div class="auth-message" id="auth-message" style="display:none;"></div>
        <form class="auth-form auth-login" id="auth-login-form">
          <div class="auth-title">Welcome Back!</div>
          <div class="auth-subtitle">We're so excited to see you again!</div>
          <label>Display Name
            <input type="text" id="login-display-name" placeholder="Enter your display name" required />
          </label>
          <label>Password
            <input type="password" id="login-password" placeholder="Enter your password" required />
          </label>
          <div class="auth-links">
            <a href="#" id="forgot-password">Forgot your password?</a>
          </div>
          <button type="submit" class="auth-btn">Login</button>
          <div class="auth-switch">Need an account? <a href="#" id="show-signup">Register</a></div>
        </form>
        <form class="auth-form auth-signup" id="auth-signup-form" style="display:none;">
          <div class="auth-title">Create Account</div>
          <div class="auth-subtitle">Join MSI and start connecting!</div>
          <label>Display Name
            <input type="text" id="signup-display-name" placeholder="Choose a display name" required />
          </label>
          <label>Password
            <input type="password" id="signup-password" placeholder="Create a password" required />
          </label>
          <button type="submit" class="auth-btn">Register</button>
          <div class="auth-switch">Already have an account? <a href="#" id="show-login">Login</a></div>
        </form>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bcryptjs@2.4.3/dist/bcrypt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js"></script>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>

  <!-- Cropper Modal -->
  <div id="cropper-modal" style="display:none; position:fixed; z-index:3000; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.85); align-items:center; justify-content:center;">
    <div id="cropper-loading">
      <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%;">
        <div class="spinner"></div>
        <div style="color:#fff; margin-top:16px; font-size:1.1rem;">Uploading...</div>
      </div>
    </div>
    <div class="cropper-modal-content" style="background:var(--background-secondary); padding:32px 24px; border-radius:16px; box-shadow:0 2px 16px var(--shadow); display:flex; flex-direction:column; align-items:center; position:relative; z-index:10;">
      <img id="cropper-image" src="" style="max-width:60vw; max-height:60vh; border-radius:12px; margin-bottom:18px;" />
      <div style="display:flex; gap:16px;">
        <button id="cropper-cancel" style="background:#444; color:#fff; border:none; border-radius:8px; padding:10px 24px; font-size:1rem; cursor:pointer;">Cancel</button>
        <button id="cropper-confirm" style="background:var(--accent); color:#fff; border:none; border-radius:8px; padding:10px 24px; font-size:1rem; cursor:pointer;">Crop & Upload</button>
      </div>
    </div>
  </div>
  <div id="bio-feedback" style="display:none; position:fixed; top:32px; right:32px; z-index:5000; background:none; box-shadow:none; padding:0;">
    <svg id="bio-feedback-svg" width="48" height="48" viewBox="0 0 48 48">
      <circle cx="24" cy="24" r="18" stroke="#8f6ee8" stroke-width="4" fill="none" stroke-linecap="round"/>
      <path d="M16 25 L22 31 L33 19" stroke="#8f6ee8" stroke-width="4" fill="none" stroke-linecap="round"/>
    </svg>
  </div>
  <div class="success-popup" id="server-success-popup">
    <div class="success-content">
      <svg id="server-success-svg" width="80" height="80" viewBox="0 0 48 48">
        <circle cx="24" cy="24" r="18" stroke="#8f6ee8" stroke-width="4" fill="none" stroke-linecap="round"/>
        <path d="M16 25 L22 31 L33 19" stroke="#8f6ee8" stroke-width="4" fill="none" stroke-linecap="round"/>
      </svg>
    </div>
  </div>
  <div id="add-friend-modal" class="modal" style="display:none;">
    <div class="modal-content add-friend-modal-content">
      <button class="modal-close add-friend-modal-close" title="Close">&times;</button>
      <h2 class="add-friend-heading" style="display:flex;align-items:center;gap:10px;">
        <span style="font-size:1.4em; color:var(--accent);">&#128101;</span>
        <span>Add Friends</span>
      </h2>
      <form class="add-friend-form" autocomplete="off" style="display:flex;gap:12px;margin:24px 0 18px 0;">
        <input type="text" class="add-friend-input" placeholder="Enter friend's ID..." style="flex:1;" />
        <button type="submit" class="add-friend-send-btn">Send</button>
      </form>
      <div class="add-friend-section">
        <div class="add-friend-section-title">Incoming Friend Requests</div>
        <div class="add-friend-request-row">
          <span class="add-friend-request-username">ghost77</span>
          <button class="add-friend-accept-btn">Accept</button>
          <button class="add-friend-reject-btn">Reject</button>
        </div>
      </div>
      <div class="add-friend-section">
        <div class="add-friend-section-title">Sent Requests</div>
        <div class="add-friend-request-row">
          <span class="add-friend-request-username">coolguy42</span>
          <span class="add-friend-request-status">(Pending)</span>
        </div>
      </div>
    </div>
  </div>
  <!-- Full-screen Server Settings Panel -->
  <div id="server-settings-panel" class="server-settings-panel" style="display:none;">
    <div class="server-settings-sidebar">
      <div class="server-settings-title">SERVER SETTINGS</div>
      <ul class="server-settings-nav">
        <li class="active" data-section="profile">Server Profile</li>
        <li data-section="engagement">Engagement</li>
        <li data-section="boost">Boost Perks</li>
        <div class="server-settings-divider">EXPRESSION</div>
        <li data-section="emoji">Emoji</li>
        <li data-section="stickers">Stickers</li>
        <li data-section="soundboard">Soundboard</li>
        <div class="server-settings-divider">PEOPLE</div>
        <li data-section="members">Members</li>
        <li data-section="roles">Roles</li>
        <li data-section="invites">Invites</li>
        <li data-section="access">Access</li>
        <div class="server-settings-divider">APPS</div>
        <li data-section="integrations">Integrations</li>
        <li data-section="appdir">App Directory</li>
        <div class="server-settings-divider">MODERATION</div>
        <li data-section="safety">Safety Setup</li>
        <li data-section="audit">Audit Log</li>
        <li data-section="bans">Bans</li>
      </ul>
    </div>
    <div class="server-settings-main">
      <div class="server-settings-header">
        <span class="server-settings-section-title">Server Profile</span>
        <button class="server-settings-close" title="Close">&times; <span class="esc-label">ESC</span></button>
      </div>
      <div class="server-settings-content server-settings-section-profile">
        <h2>Server Profile</h2>
        <p class="server-settings-desc">Customize how your server appears in invite links and, if enabled, in Server Discovery and Announcement Channel messages</p>
        <label class="server-settings-label">Name</label>
        <input type="text" class="server-settings-name-input" />
        <label class="server-settings-label">Icon <span class="server-settings-icon-hint">(min 512x512)</span></label>
        <div class="server-settings-icon-row">
          <img src="" class="server-settings-icon-preview" alt="Server Icon" />
          <button class="server-settings-icon-btn">Change Server Icon</button>
        </div>
        <label class="server-settings-label">Banner</label>
        <div class="server-settings-banner-row">
          <div class="server-settings-banner-color" data-color="#232129"></div>
          <div class="server-settings-banner-color" data-color="#ff5fa2"></div>
          <div class="server-settings-banner-color" data-color="#ff6b57"></div>
          <div class="server-settings-banner-color" data-color="#ffd84d"></div>
          <div class="server-settings-banner-color" data-color="#b39ddb"></div>
          <div class="server-settings-banner-color" data-color="#4fd8ff"></div>
          <div class="server-settings-banner-color" data-color="#7ed957"></div>
          <div class="server-settings-banner-color" data-color="#222226"></div>
        </div>
        <div class="server-settings-save-row">
          <button class="server-settings-save-btn">Save Changes</button>
          <span class="server-settings-feedback"></span>
        </div>
      </div>
      <div class="server-settings-content server-settings-section-engagement" style="display:none;">
        <h2>Engagement</h2>
        <p class="server-settings-desc">Track and boost your community engagement here with real analytics and insights.</p>
        <div class="engagement-stats-row">
          <div class="engagement-stat-card total-members">
            <div class="stat-label">Total Members</div>
            <div class="stat-value" id="engagement-total-members">0</div>
          </div>
          <div class="engagement-stat-card new-members">
            <div class="stat-label">New This Week</div>
            <div class="stat-value" id="engagement-new-members">0</div>
          </div>
        </div>
        <div class="engagement-charts-row">
          <div class="engagement-chart-card">
            <div class="chart-title">Member Growth (Last 30 Days)</div>
            <canvas id="member-growth-chart" height="120"></canvas>
          </div>
          <div class="engagement-chart-card">
            <div class="chart-title">Message Activity (Last 14 Days)</div>
            <canvas id="message-activity-chart" height="120"></canvas>
          </div>
        </div>
        <div class="engagement-most-active">
          <div class="chart-title">Most Active Members</div>
          <ul class="most-active-members-list">
            <!-- Top members will be dynamically added here -->
          </ul>
        </div>
      </div>
      <div class="server-settings-content server-settings-section-boost glory-bg-animated" style="display:none;">
        <!-- Guild Glory Voting System Start -->
        <section class="glory-hero">
          <h1 class="glory-title">Boost your Guild's Glory!</h1>
          <p class="glory-subtitle">Vote to unlock epic perks for everyone!</p>
        </section>
        <section class="glory-progress-section">
          <div class="glory-progress-bar-container">
            <div class="glory-progress-bar-bg">
              <div class="glory-progress-bar-fill" id="gloryProgressBar"></div>
              <div class="glory-milestone" data-level="1" id="milestone1"></div>
              <div class="glory-milestone" data-level="2" id="milestone2"></div>
              <div class="glory-milestone" data-level="3" id="milestone3"></div>
            </div>
            <div class="glory-avatars" id="gloryAvatars"></div>
          </div>
          <button class="glory-vote-btn" id="gloryVoteBtn">Cast My Vote!</button>
          <div class="glory-vote-info">Each member can vote once. More votes = more perks for everyone!</div>
        </section>
        <section class="glory-milestones">
          <div class="glory-milestone-card" id="card1">
            <h2>Level 1</h2>
            <p>2 Votes</p>
            <ul>
              <li><span class="perk-icon">😊</span> Custom Emoji</li>
              <li><span class="perk-icon">🔊</span> Soundboard</li>
            </ul>
          </div>
          <div class="glory-milestone-card" id="card2">
            <h2>Level 2</h2>
            <p>5 Votes</p>
            <ul>
              <li><span class="perk-icon">🎥</span> HD Streaming</li>
              <li><span class="perk-icon">🖼️</span> Server Banner</li>
            </ul>
          </div>
          <div class="glory-milestone-card" id="card3">
            <h2>Level 3</h2>
            <p>10 Votes</p>
            <ul>
              <li><span class="perk-icon">🔗</span> Custom Invite Link</li>
              <li><span class="perk-icon">🎉</span> Special Role</li>
            </ul>
          </div>
        </section>
        <div class="glory-perk-unlock" id="gloryPerkUnlock"></div>
        <!-- Guild Glory Voting System End -->
      </div>
      <div class="server-settings-content server-settings-section-members" style="display:none;">
        <h2>Server Members</h2>
        <div class="server-members-info-banner">
          <img src="assets/19362653.jpg" alt="Info" class="server-members-info-img" />
          <div class="server-members-info-text">
            <strong>Show Members In Channel List</strong><br>
            Enabling this will show the members page in the channel list, allowing you to quickly see who's recently joined your server, and find any users flagged for unusual activity.
          </div>
          <button class="server-members-info-close" title="Close">&times;</button>
        </div>
        <div class="server-members-table-controls">
          <span class="server-members-table-title">Recent Members</span>
          <input type="text" class="server-members-search" placeholder="Search by username or id" />
          <button class="server-members-sort-btn" title="Sort">⇅ Sort</button>
          <button class="server-members-prune-btn" title="Prune">Prune</button>
        </div>
        <div class="server-members-table-wrapper">
          <table class="server-members-table">
            <thead>
              <tr>
                <th><input type="checkbox" class="server-members-select-all" /></th>
                <th>NAME</th>
                <th>MEMBER SINCE</th>
                <th>ROLES</th>
              </tr>
            </thead>
            <tbody>
              <!-- Members will be dynamically added here -->
            </tbody>
          </table>
          <div class="server-members-count">Showing <span class="server-members-count-val">0</span> member(s)</div>
        </div>
      </div>
      <!-- Placeholder content for other sections -->
      <div class="server-settings-content server-settings-section-placeholder" style="display:none;">
        <h2>Coming Soon</h2>
        <p>This section will be available in a future update.</p>
      </div>
    </div>
    <div class="server-settings-preview">
      <div class="server-settings-preview-card">
        <div class="server-settings-preview-banner"></div>
        <div class="server-settings-preview-icon"><img src="" alt="Icon" /></div>
        <div class="server-settings-preview-name"></div>
        <div class="server-settings-preview-meta"><span class="server-settings-preview-online">1 Online</span> &bull; <span class="server-settings-preview-members">1 Member</span></div>
        <div class="server-settings-preview-date">Est. <span class="server-settings-preview-date-val"></span></div>
      </div>
    </div>
  </div>
  <!-- Full-screen Profile Settings Panel -->
  <div id="profile-settings-panel" class="profile-settings-panel" style="display:none;">
    <div class="profile-settings-sidebar">
      <div class="profile-settings-title">PROFILE SETTINGS</div>
      <ul class="profile-settings-nav">
        <li class="active" data-section="main">Main Profile</li>
        <li data-section="privacy">Privacy & Security</li>
        <li data-section="appearance">Appearance</li>
        <li data-section="notifications">Notifications</li>
        <div class="profile-settings-divider">ACCOUNT</div>
        <li data-section="connections">Connections</li>
        <li data-section="sessions">Sessions</li>
      </ul>
    </div>
    <div class="profile-settings-main">
      <div class="profile-settings-header">
        <span class="profile-settings-section-title">Main Profile</span>
        <button class="profile-settings-close" title="Close">&times; <span class="esc-label">ESC</span></button>
      </div>
      <div class="profile-settings-content profile-settings-section-main">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="var(--accent)" stroke-width="2"><animate attributeName="r" values="10;12;10" dur="1.6s" repeatCount="indefinite"/></circle><circle cx="12" cy="12" r="5" fill="var(--accent)" opacity="0.18"><animate attributeName="opacity" values="0.18;0.32;0.18" dur="1.6s" repeatCount="indefinite"/></circle></svg> Main Profile</h2>
        <p class="profile-settings-desc">Manage your display name, avatar, and bio. All changes are instantly saved and reflected across the app.</p>
        <label class="profile-settings-label">Display Name</label>
        <input type="text" class="profile-settings-name-input" />
        <label class="profile-settings-label">Avatar</label>
        <div class="profile-settings-avatar-row">
          <div class="avatar-anim-wrapper">
            <img src="" class="profile-settings-avatar-preview" alt="Avatar" />
            <div class="avatar-upload-anim"></div>
          </div>
          <button class="profile-settings-avatar-btn">Change Avatar</button>
        </div>
        <label class="profile-settings-label">Accent Color</label>
        <div class="accent-color-picker">
          <div class="accent-color-swatch" data-color="#b39ddb" style="background:#b39ddb;"></div>
          <div class="accent-color-swatch" data-color="#ff5fa2" style="background:#ff5fa2;"></div>
          <div class="accent-color-swatch" data-color="#4fd8ff" style="background:#4fd8ff;"></div>
          <div class="accent-color-swatch" data-color="#ffd84d" style="background:#ffd84d;"></div>
          <div class="accent-color-swatch" data-color="#7ed957" style="background:#7ed957;"></div>
        </div>
        <label class="profile-settings-label">Online Status</label>
        <div class="status-toggle-row">
          <span class="status-label">Online</span>
          <label class="switch-anim">
            <input type="checkbox" class="status-toggle-input" checked>
            <span class="slider-anim"></span>
          </label>
        </div>
        <label class="profile-settings-label">Bio</label>
        <textarea class="profile-settings-bio-input" rows="3"></textarea>
        <div class="profile-settings-save-row">
          <button class="profile-settings-save-btn">Save Changes</button>
          <span class="profile-settings-feedback"></span>
        </div>
        <div class="profile-settings-scroll-indicator">
          <div class="profile-settings-scroll-bar"></div>
        </div>
      </div>
      <div class="profile-settings-content profile-settings-section-privacy" style="display:none;">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><rect x="4" y="8" width="16" height="10" rx="3" fill="none" stroke="var(--accent)" stroke-width="2"><animate attributeName="rx" values="3;5;3" dur="1.6s" repeatCount="indefinite"/></rect><circle cx="12" cy="13" r="2.5" fill="var(--accent)" opacity="0.18"><animate attributeName="opacity" values="0.18;0.32;0.18" dur="1.6s" repeatCount="indefinite"/></circle></svg> Privacy & Security</h2>
        <p class="profile-settings-desc">Control who can see your profile and activity, and manage your account security.</p>
        <div class="toggle-row"><span>Profile Visible</span><label class="switch-anim"><input type="checkbox" checked><span class="slider-anim"></span></label></div>
        <div class="toggle-row"><span>Enable 2FA</span><label class="switch-anim"><input type="checkbox"><span class="slider-anim"></span></label></div>
      </div>
      <div class="profile-settings-content profile-settings-section-appearance" style="display:none;">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><path d="M12 2v20M2 12h20" stroke="var(--accent)" stroke-width="2" fill="none"><animate attributeName="stroke-width" values="2;3;2" dur="1.6s" repeatCount="indefinite"/></path></svg> Appearance</h2>
        <p class="profile-settings-desc">Personalize your app theme, accent color, and more.</p>
        <div class="theme-switch-row">
          <span>Dark Theme</span>
          <label class="switch-anim">
            <input type="checkbox" class="theme-toggle-input" checked>
            <span class="slider-anim"></span>
          </label>
        </div>
        <div class="color-palette-row">
          <div class="palette-color" style="background:#232129;"></div>
          <div class="palette-color" style="background:#b39ddb;"></div>
          <div class="palette-color" style="background:#ff5fa2;"></div>
          <div class="palette-color" style="background:#4fd8ff;"></div>
          <div class="palette-color" style="background:#ffd84d;"></div>
        </div>
      </div>
      <div class="profile-settings-content profile-settings-section-notifications" style="display:none;">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2H10c0 1.1.9 2 2 2zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29A1 1 0 0 0 6 19h12a1 1 0 0 0 .71-1.71L18 17z" fill="none" stroke="var(--accent)" stroke-width="2"><animate attributeName="stroke-width" values="2;3;2" dur="1.6s" repeatCount="indefinite"/></path></svg> Notifications</h2>
        <p class="profile-settings-desc">Manage notification preferences for messages, mentions, and more.</p>
        <div class="toggle-row"><span>Message Notifications</span><label class="switch-anim"><input type="checkbox" checked><span class="slider-anim"></span></label></div>
        <div class="toggle-row"><span>Mention Notifications</span><label class="switch-anim"><input type="checkbox" checked><span class="slider-anim"></span></label></div>
      </div>
      <div class="profile-settings-content profile-settings-section-connections" style="display:none;">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="var(--accent)" stroke-width="2"/></svg> Connections</h2>
        <p class="profile-settings-desc">Link your other accounts and manage integrations.</p>
        <div class="skeleton-loader"></div>
        <div class="skeleton-loader" style="width:80%;"></div>
      </div>
      <div class="profile-settings-content profile-settings-section-sessions" style="display:none;">
        <h2><svg class="animated-icon" width="28" height="28" viewBox="0 0 24 24"><rect x="4" y="8" width="16" height="10" rx="3" fill="none" stroke="var(--accent)" stroke-width="2"/></svg> Sessions</h2>
        <p class="profile-settings-desc">View and manage your active sessions and devices.</p>
        <div class="skeleton-loader"></div>
        <div class="skeleton-loader" style="width:60%;"></div>
      </div>
      <div class="profile-settings-content profile-settings-section-placeholder" style="display:none;">
        <h2>Coming Soon</h2>
        <p>This section will be available in a future update.</p>
      </div>
    </div>
    <div class="profile-settings-preview">
      <div class="profile-settings-preview-card">
        <div class="profile-settings-preview-banner"></div>
        <div class="profile-settings-preview-avatar"><img src="" alt="Avatar" /></div>
        <div class="profile-settings-preview-name"></div>
        <div class="profile-settings-preview-id"></div>
        <div class="profile-settings-preview-bio"></div>
        <div class="profile-settings-preview-status"><span class="status-dot online"></span> <span class="status-label">Online</span></div>
      </div>
    </div>
  </div>
  <div id="create-channel-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <button class="modal-close channel-modal-close" title="Close">&times;</button>
      <h2>Create Channel</h2>
      <div class="channel-type-row">
        <label class="channel-type-option">
          <input type="radio" name="channel-type" value="text" checked />
          <span class="channel-type-icon">#</span>
          <span>Text</span>
          <span class="channel-type-desc">Send messages, images, GIFs, emoji, opinions, and puns</span>
        </label>
        <label class="channel-type-option">
          <input type="radio" name="channel-type" value="voice" />
          <span class="channel-type-icon"><svg width="18" height="18" viewBox="0 0 20 20" fill="none"><path d="M4 10v2a6 6 0 0 0 12 0v-2" stroke="currentColor" stroke-width="1.5"/><rect x="7" y="2" width="6" height="12" rx="3" stroke="currentColor" stroke-width="1.5"/></svg></span>
          <span>Voice</span>
          <span class="channel-type-desc">Hang out together with voice, video, and screen share</span>
        </label>
      </div>
      <label for="channel-name" class="channel-name-label">CHANNEL NAME</label>
      <input type="text" id="channel-name" class="channel-name-input" placeholder="# new-channel" />
      <div id="channel-modal-feedback" class="channel-modal-feedback"></div>
      <div class="private-row">
        <label class="private-label">
          <input type="checkbox" id="private-channel-toggle" />
          <span class="private-icon">🔒</span>
          Private Channel
        </label>
        <span class="private-desc">Only selected members and roles will be able to view this channel.</span>
      </div>
      <div class="modal-actions">
        <button class="modal-back channel-modal-cancel">Cancel</button>
        <button class="modal-create channel-modal-create" disabled>Create Channel</button>
      </div>
    </div>
  </div>
</body>
<script src="app.js"></script>
</html> 